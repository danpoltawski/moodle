YUI.add("moodle-course-modchooser",function(a,b){var c={PAGECONTENT:"body",SECTION:null,SECTIONMODCHOOSER:"span.section-modchooser-link",SITEMENU:".block_site_main_menu",SITETOPIC:"div.sitetopic"},d="course-modchooser",e=function(){e.superclass.constructor.apply(this,arguments)};a.extend(e,M.core.chooserdialogue,{sectionid:null,initializer:function(){var b=M.course.format.get_sectionwrapperclass();b&&(c.SECTION="."+b);var d=a.one(".chooserdialoguebody"),e=a.one(".choosertitle"),f={};this.setup_chooser_dialogue(d,e,f),this.setup_for_section(),M.course.coursebase.register_module(this)},setup_for_section:function(b){b||(b=c.PAGECONTENT),a.one(b).all(c.SITETOPIC).each(function(a){this._setup_for_section(a)},this),c.SECTION&&a.one(b).all(c.SECTION).each(function(a){this._setup_for_section(a)},this),a.one(b).all(c.SITEMENU).each(function(a){this._setup_for_section(a)},this)},_setup_for_section:function(b){var d=b.one(c.SECTIONMODCHOOSER);if(d){var e=a.Node.create("<a href='#' />");d.get("children").each(function(a){e.appendChild(a)}),d.insertBefore(e),e.on("click",this.display_mod_chooser,this)}},display_mod_chooser:function(a){if(a.target.ancestor(c.SITETOPIC))this.sectionid=1;else if(a.target.ancestor(c.SECTION)){var b=a.target.ancestor(c.SECTION);this.sectionid=b.get("id").replace("section-","")}else a.target.ancestor(c.SITEMENU)&&(this.sectionid=0);this.display_chooser(a)},option_selected:function(a){this.hiddenRadioValue.setAttrs({name:"jump",value:a.get("value")+"&section="+this.sectionid})}},{NAME:d,ATTRS:{maxheight:{value:800}}}),M.course=M.course||{},M.course.init_chooser=function(a){return new e(a)}},"@VERSION@",{requires:["moodle-core-chooserdialogue","moodle-course-coursebase"]});