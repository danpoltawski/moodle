YUI.add("moodle-core_outcome-ariacontrolled",function(e,t){var n="beforeToggle",r="afterToggle",i="beforeUpdateState",s="afterUpdateState",o="host",u="boundingBox",a="contentBox",f="role",l="tabindex",c="aria-labelledby",h="aria-describedby",p="aria-hidden",d="aria-expanded",v=[p,d],m=e.Lang,g=function(){g.superclass.constructor.apply(this,arguments)};e.extend(g,e.Plugin.Base,{initializer:function(){this.get("role")!==""&&this.get("box").setAttribute(f,this.get("role")),m.isNull(this.get("ariaLabelledBy"))||this.get("box").setAttribute(c,this.get("ariaLabelledBy").generateID()),m.isNull(this.get("ariaDescribedBy"))||this.get("box").setAttribute(h,this.get("ariaDescribedBy").generateID()),this.get("isWidget")?this.get(o).set("tabIndex",this.get("tabIndex")):this.get(o).setAttribute(l,this.get("tabIndex")),this.update_state()},toggle_state:function(){this.fire(n),this.get("visible")?this._set("visible",!1):this._set("visible",!0),this.update_state(),this.fire(r)},update_state:function(){this.fire(i),this.update_aria_state(),this.get("visible")?(this.get("autoHideShow")&&this.get(o).show(),this.get("autoFocus")&&this.focus()):this.get("autoHideShow")&&this.get(o).hide(),this.fire(s)},update_aria_state:function(){var e=this.get("visible");this.get("ariaState")===p&&(e=!e),this.get("box").setAttribute(this.get("ariaState"),e)},focus:function(){this.get(o).focus()},_setAssociatedNode:function(t){return t===null?null:e.one(t)},_validateAssociatedNode:function(t){return t===null?!0:e.one(t)instanceof e.Node},_validateAriaState:function(e){return v.indexOf(e)!==-1}},{NAME:t,NS:"core_outcome_ariacontrolled",ATTRS:{role:{valueFn:function(){return this.get(o).hasAttribute("role")?this.get(o).getAttribute("role"):"region"},validator:m.isString,writeOnce:!0},ariaLabelledBy:{value:null,validator:"_validateAssociatedNode",setter:"_setAssociatedNode",writeOnce:!0},ariaDescribedBy:{valueFn:function(){return this.get("isWidget")?this.get(o).get(a):null},validator:"_validateAssociatedNode",setter:"_setAssociatedNode",writeOnce:!0},ariaState:{value:"aria-hidden",validator:"_validateAriaState",writeOnce:!0},autoFocus:{value:!0,validator:m.isBoolean},autoHideShow:{value:!0,validator:m.isBoolean},visible:{value:!1,validator:m.isBoolean,writeOnce:!0},tabIndex:{value:-1,validator:m.isNumber,writeOnce:!0},isWidget:{readOnly:!0,valueFn:function(){return this.get(o)instanceof e.Widget}},box:{readOnly:!0,valueFn:function(){return this.get("isWidget")?this.get(o).get(u):this.get(o)}}}}),M.core_outcome=M.core_outcome||{},M.core_outcome.ariacontrolled=g},"@VERSION@",{requires:["plugin","widget"]});
