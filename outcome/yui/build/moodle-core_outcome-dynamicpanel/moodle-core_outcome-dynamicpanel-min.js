YUI.add("moodle-core_outcome-dynamicpanel",function(e,t){var n,r=e.Lang,i="panel",s="delegateSelector",o="actionSelector",u="delegateEvent",a=function(){a.superclass.constructor.apply(this,arguments)};e.extend(a,e.Base,{initializer:function(){if(this.get(s).length>0&&this.get(o).length>0){var t=e.one(this.get(s));t&&(n=new M.core_outcome.SimpleIO({contextId:this.get("contextId")}),t.delegate(this.get(u),this.handle_action,this.get(o),this))}},handle_action:function(t){t.preventDefault();var n={};e.Object.each(t.target.getData(),function(e,t){var r=t.replace("request-","");r!==t&&(n[r]=e)}),this.show_panel(n)},show_panel:function(e){n.send(e,function(e){this.get(i).set("headerContent",e.header),this.get(i).set("bodyContent",e.body),this.get(i).show(),this.get(i).centered()},this)},_create_panel:function(){var n=new M.core.dialogue({centered:!0,width:"",render:!0,visible:!1,modal:!0});return n.get("srcNode").addClass(e.ClassNameManager.getClassName(t,"panel")),n.plug(M.core_outcome.scrollpanel),n.addButton({value:M.str.outcome.close,action:function(e){e.preventDefault(),this.hide()}}),n}},{NAME:t,ATTRS:{contextId:{},delegateSelector:{validator:r.isString},actionSelector:{validator:r.isString},delegateEvent:{value:"click",validator:r.isString},panel:{readOnly:!0,valueFn:"_create_panel"}}}),M.core_outcome=M.core_outcome||{},M.core_outcome.dynamicpanel=a,M.core_outcome.init_dynamicpanel=function(e){return new a(e)}},"@VERSION@",{requires:["base","moodle-core_outcome-simpleio","classnamemanager","moodle-core-notification-dialogue","moodle-core_outcome-scrollpanel"]});
