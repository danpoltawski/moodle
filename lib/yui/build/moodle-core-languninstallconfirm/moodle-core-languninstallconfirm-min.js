YUI.add("moodle-core-languninstallconfirm",function(a,b){function c(){c.superclass.constructor.apply(this,arguments)}var d={UNINSTALLBUTTON:"#languninstallbutton",UNINSTALLSELECT:"#menuuninstalllang option",ENGLISHOPTION:"#menuuninstalllang option[value='en']"};c.NAME=b,c.ATTRS={uninstallUrl:{validator:a.Lang.isString}},a.extend(c,a.Base,{initializer:function(){a.one(d.UNINSTALLBUTTON).on("click",this._confirm,this)},_confirm:function(b){b.preventDefault();var c=[],e=[];if(a.all(d.UNINSTALLSELECT).each(function(a){a.get("selected")&&(c.push(a.getAttribute("value")),e.push(a.get("text")))}),0===c.length)return void new M.core.alert({message:M.util.get_string("selectlangs","tool_langimport")}).show();if(c.indexOf("en")>-1)return a.one(d.ENGLISHOPTION).set("selected",!1),void new M.core.alert({message:M.util.get_string("noenglishuninstall","tool_langimport")}).show();var f={modal:!0,visible:!1,centered:!0,title:M.util.get_string("uninstall","tool_langimport"),question:M.util.get_string("uninstallconfirm","tool_langimport",e.join(", "))};new M.core.confirm(f).show().on("complete-yes",this._uninstall,this,c)},_uninstall:function(b,c){a.config.win.location.href=this.get("uninstallUrl")+"?mode=4&sesskey="+M.cfg.sesskey+"&confirmtouninstall="+c.join("-")}}),a.namespace("M.core.languninstallconfirm").Confirmation=c,a.namespace("M.core.languninstallconfirm").init=function(a){return new c(a)}},"@VERSION@",{requires:["base","node","moodle-core-notification-confirm","moodle-core-notification-alert"]});