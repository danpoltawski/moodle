YUI.add("moodle-core-popuphelp",function(a,b){function c(){c.superclass.constructor.apply(this,arguments)}var d={CLICKABLELINKS:"span.helptooltip > a",FOOTER:"div.moodle-dialogue-ft"},e={ICON:"icon",ICONPRE:"icon-pre"},f={};c.NAME="moodle-core-popuphelp",c.ATTRS=f,a.extend(c,a.Base,{panel:null,initializer:function(){a.one("body").delegate("click",this.display_panel,d.CLICKABLELINKS,this)},display_panel:function(a){this.panel||(this.panel=new M.core.tooltip({bodyhandler:this.set_body_content,footerhandler:this.set_footer,initialheadertext:M.util.get_string("loadinghelp","moodle"),initialfootertext:""})),this.panel.display_panel(a)},set_footer:function(b){if(b.doclink){var c=a.Node.create("<a />").setAttrs({href:b.doclink.link}).addClass(b.doclink["class"]),f=a.Node.create("<img />").setAttrs({src:M.util.image_url("docs","core")}).addClass(e.ICON).addClass(e.ICONPRE);c.appendChild(f),c.appendChild(b.doclink.linktext),this.set("footerContent",c),this.bb.one(d.FOOTER).show()}else this.bb.one(d.FOOTER).hide()}}),M.core=M.core||{},M.core.popuphelp=M.core.popuphelp||null,M.core.init_popuphelp=M.core.init_popuphelp||function(a){return M.core.popuphelp||(M.core.popuphelp=new c(a)),M.core.popuphelp}},"@VERSION@",{requires:["moodle-core-tooltip"]});