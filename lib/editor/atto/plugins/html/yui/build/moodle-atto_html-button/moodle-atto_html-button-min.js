YUI.add("moodle-atto_html-button",function(a,b){a.namespace("M.atto_html").Button=a.Base.create("button",a.M.editor_atto.EditorPlugin,[],{initializer:function(){this.addButton({icon:"e/source_code",callback:this._toggleHTML});var a=this.get("host").textarea.ancestor("form");a&&a.on("submit",this._submitClean,this)},_toggleHTML:function(){this.set("isHTML",!this.get("isHTML")),this._showHTML()},_showHTML:function(){var a=this.get("host");this.get("isHTML")?(this.highlightButtons("html"),a.disablePlugins(),a.enablePlugins(this.name),a.updateOriginal(),a.textarea.setStyles({width:this.editor.getComputedStyle("width"),height:this.editor.getComputedStyle("height"),margin:this.editor.getComputedStyle("margin"),padding:this.editor.getComputedStyle("padding")}),this.editor.hide(),a.textarea.show(),a.textarea.focus()):(this.unHighlightButtons("html"),a.enablePlugins(),a.updateFromTextArea(),a.textarea.hide(),this.editor.show(),a.focus(),this.markUpdated())},_submitClean:function(){if(this.get("isHTML")){var a=this.get("host");a.updateFromTextArea(),a.updateOriginal()}}},{ATTRS:{isHTML:{value:!1}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin","event-valuechange"]});