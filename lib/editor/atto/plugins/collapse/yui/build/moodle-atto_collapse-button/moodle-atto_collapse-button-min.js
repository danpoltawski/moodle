YUI.add("moodle-atto_collapse-button",function(a,b){var c="atto_collapse",d="showgroups",e="collapse",f="collapsed",g=".atto_group";a.namespace("M.atto_collapse").Button=a.Base.create("button",a.M.editor_atto.EditorPlugin,[],{initializer:function(){var b=a.Object.size(this.get("host").get("plugins"));if(!(b<=1+parseInt(this.get(d),10)||this.toolbar.all(g).size()>this.get(d))){var e=this.addButton({icon:"icon",iconComponent:c,callback:this._toggle});this.get("host").on("pluginsloaded",function(a,b){this._setVisibility(b);var c=this.toolbar.all(g).item(this.get(d));c.insert('<div class="toolbarbreak"></div>',"before")},this,e)}},_toggle:function(a){a.preventDefault();var b=this.buttons[e];b.getData(f)?(this.highlightButtons(e),this._setVisibility(b,!0)):(this.unHighlightButtons(e),this._setVisibility(b)),this.buttons[this.name].focus()},_setVisibility:function(a,b){var e=this.toolbar.all(g).slice(this.get(d));b?(a.set("title",M.util.get_string("showfewer",c)),e.show(),a.setData(f,!1)):(a.set("title",M.util.get_string("showmore",c)),e.hide(),a.setData(f,!0))}},{ATTRS:{showgroups:{value:3}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});