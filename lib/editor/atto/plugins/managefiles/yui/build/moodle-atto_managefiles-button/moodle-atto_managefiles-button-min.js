YUI.add("moodle-atto_managefiles-button",function(a,b){var c="atto_managefiles";a.namespace("M.atto_managefiles").Button=a.Base.create("button",a.M.editor_atto.EditorPlugin,[],{_currentSelection:null,initializer:function(){if(!this.get("disabled")){var a=this.get("host"),b=this.get("area"),c=a.get("filepickeroptions");c.image&&c.image.itemid&&(b.itemid=c.image.itemid,this.set("area",b),this.addButton({icon:"e/manage_files",callback:this._displayDialogue}))}},_displayDialogue:function(b){b.preventDefault();var d=this.getDialogue({headerContent:M.util.get_string("managefiles",c),width:"800px",focusAfterHide:!0}),e=a.Node.create("<iframe></iframe>");e.setStyles({height:"700px",border:"none",width:"100%"}),e.setAttribute("src",this._getIframeURL()),d.set("bodyContent",e).show(),this.markUpdated()},_getIframeURL:function(){var b=a.mix({elementid:this.get("host").get("elementid")},this.get("area"));return M.cfg.wwwroot+"/lib/editor/atto/plugins/managefiles/manage.php?"+a.QueryString.stringify(b)}},{ATTRS:{disabled:{value:!0},area:{value:{}}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});