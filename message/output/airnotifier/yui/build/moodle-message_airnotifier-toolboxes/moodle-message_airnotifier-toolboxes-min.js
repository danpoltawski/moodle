YUI.add("moodle-message_airnotifier-toolboxes",function(a,b){var c={AIRNOTIFIERCONTENT:'div[data-processor-name="airnotifier"]',HIDEDEVICE:"a.hidedevice",DEVICELI:"li.airnotifierdevice",DIMCLASS:"dimmed",DIMMEDTEXT:"dimmed_text",DEVICEIDPREFIX:"deviceid-"},d=function(){d.superclass.constructor.apply(this,arguments)};a.extend(d,a.Base,{replace_button:function(b,c,d,e){e||(e="pointer");var f=a.one(b).all(c).setStyle("cursor",e);return f.on("click",d,this),f},toggle_hide_device_ui:function(a){var b=a.ancestor(c.DEVICELI),d=a.one("img"),e=c.DIMMEDTEXT,f="";f=b.hasClass(e)?"hide":"show",b.toggleClass(e);var g=M.util.get_string(f,"moodle");d.setAttrs({alt:g,title:g,src:M.util.image_url("t/"+f)}),a.set("title",g),a.set("className","editing_"+f)},send_request:function(b,c,d){b||(b={});var e,f=this.get("config").pageparams;for(e in f)b[e]=f[e];c&&c.show(),b.sesskey=M.cfg.sesskey;var g=M.cfg.wwwroot+this.get("ajaxurl"),h=[],i={method:"POST",data:b,on:{success:function(b,e){try{h=a.JSON.parse(e.responseText),h.error?a.use("moodle-core-notification-ajaxexception",function(){return new M.core.ajaxException(h).show()}):h.success&&d()}catch(f){}c&&c.hide()},failure:function(b,d){c&&c.hide(),a.use("moodle-core-notification-ajaxexception",function(){return new M.core.ajaxException(d).show()})}},context:this,sync:!1};return a.io(g,i),h},get_element_id:function(a){return a.get("id").replace(c.DEVICEIDPREFIX,"")}},{NAME:"device-toolbox",ATTRS:{ajaxurl:{value:0},config:{value:0}}});var e=function(){e.superclass.constructor.apply(this,arguments)};a.extend(e,d,{initializer:function(){this.setup_for_device()},setup_for_device:function(b){b||(b=c.AIRNOTIFIERCONTENT),a.all(b).each(this._setup_for_device,this)},_setup_for_device:function(a){this.replace_button(a,c.HIDEDEVICE,this.toggle_hide_device)},toggle_hide_device:function(b){b.preventDefault();var d,e=b.target.ancestor(c.DEVICELI),f=b.target.ancestor("a",!0);d=e.hasClass(c.DIMMEDTEXT)?1:0;var g={field:"enable",enable:d,id:this.get_element_id(e)},h=M.util.add_spinner(a,e),i=this,j=function(){i.toggle_hide_device_ui(f)};this.send_request(g,h,j)}},{NAME:"message-device-toolbox",ATTRS:{}}),M.message=M.message||{},M.message.init_device_toolbox=function(a){return new e(a)}},"@VERSION@",{requires:["base","node","io"]});